var Y=Object.defineProperty;var f=(n,l)=>Y(n,"name",{value:l,configurable:!0});import"./jsx-runtime.bdaa43ca.js";import{c as s,A as Z,C as ee,S as te,M as le,a as ae,b as ne}from"./Props.743107a2.js";import"./iframe.1095ffe7.js";import{d as oe,f as o,a as w,D as se,j as ie,C as re,o as c,l as V,m as X,p as D,u as M,F as T,q as R,b as A,t as z,w as ue,r as de,x as fe,n as ce}from"./vue.esm-bundler.598ec8ba.js";import me from"./RwCarouselItem.6d636cc0.js";import{_ as H}from"./RwCarouselItemMock.158c0221.js";import{u as pe}from"./index.283ab726.js";import{r as ye,g as ve,T as y}from"./getSourceCode.18361779.js";import"./string.b8ac90a5.js";import"./es.map.constructor.5269df08.js";import"./es.number.to-fixed.bed49b7c.js";const be={class:"rw-carousel__container"},k=oe({__name:"RwCarousel2",props:{items:null,vertical:{type:Boolean,default:!1},infinite:{type:Boolean,default:!1},showScroll:{type:Boolean,default:!1},autoplay:{type:[Boolean,null],default:!1},maxVisible:{default:void 0},notVisibleOffset:{default:void 0},showDots:{type:Boolean,default:!0},showButtons:{type:Boolean,default:!0},scrollByDrag:{type:Boolean,default:!0},centered:{type:Boolean,default:!1}},setup(n){const l=n,i=o(),v=o(),B=o([]),m=o({}),E=o(0),d=o(0),p=o(!0),_=o(!0),S=o({}),x=o({}),b=o(0),U=w(()=>Boolean(m.value[0]));w(()=>Boolean(m.value[l.items.length-1]));const N=o(),G=w(()=>{const e=l.notVisibleOffset||"0px",r=l.maxVisible?`calc((100% / ${l.maxVisible}) - ${e})`:"auto",t=l.scrollByDrag?"grab":"auto";return l.vertical?{width:"100%",gridAutoRows:r,cursor:t}:{gridAutoColumns:r,cursor:t}}),$=w(()=>l.vertical?{height:`${b.value}px`}:{width:`${b.value}px`});function J(e){p.value&&e.isCopy||(e.visible?m.value[e.index]=!0:delete m.value[e.index])}f(J,"setSlideVisibility");function F(e){e.visible?e.position==="left"?S.value[e.index]=!0:x.value[e.index]=!0:e.position==="left"?delete S.value[e.index]:delete x.value[e.index]}f(F,"setMockVisibility");const Q=f(()=>{p.value&&(d.value=Math.floor(E.value/2)),_.value=!1},"calculateMocksCount"),j=pe(async({leftMocks:e,visibleItems:r,rightMocks:t})=>{var W;const u=[];if(Q(),Object.keys(e).length)for(let a=0;a<d.value;a+=1)u.push({index:a,type:"mock",visible:e[a]});if(l.items.forEach((a,h)=>u.push({index:Number(h),type:"slide",visible:r[h]})),Object.keys(t).length)for(let a=0;a<d.value;a+=1)u.push({index:a,type:"mock",visible:t[a]});const C=u.filter(a=>a.visible);if(C.length){let a=Math.ceil(C.length/2);for(;C[a].type!=="slide";)a+=1;N.value=C[a].index}if(p.value&&(await ce(),(W=i.value)!=null&&W.length)){const a=B.value.findIndex(h=>h.itemIndex===0&&!h.isCopy);a>-1&&i.value[a].$el.scrollIntoView({block:"start",inline:"start"})}p.value=!1},200),L=f(()=>{let e=l.items.map((r,t)=>({itemIndex:t,isCopy:!1}));!l.centered&&l.infinite&&(p.value||U.value)&&(e=[...e.map(r=>({...r,isCopy:!0})),...e]),B.value=e},"calculateOrderedSlides");return se(()=>{L()}),ie(()=>{var e;(e=i.value)!=null&&e.length&&(b.value=l.vertical?i.value[0].$el.clientHeight:i.value[0].$el.clientWidth,E.value=l.vertical?Math.floor(window.innerHeight/b.value):Math.floor(window.innerWidth/b.value),j({leftMocks:S.value,visibleItems:m.value,rightMocks:x.value}))}),re(()=>[S.value,m.value,x.value],([e,r,t])=>{L(),j({leftMocks:e,visibleItems:r,rightMocks:t})},{deep:!0,flush:"post"}),(e,r)=>(c(),V("div",{class:fe(["rw-carousel",{vertical:n.vertical,"hide-scrollbar":!n.showScroll,loading:p.value,centered:n.centered}])},[X("div",be,[X("div",{class:"scroller",ref_key:"scrollerElementRef",ref:v,style:D(M(G))},[!_.value&&n.centered&&d.value?(c(!0),V(T,{key:0},R(d.value,t=>(c(),A(H,{key:t,style:D(M($)),onVisibilityChange:u=>F({visible:u,index:t,position:"left"})},null,8,["style","onVisibilityChange"]))),128)):z("",!0),(c(!0),V(T,null,R(B.value,t=>(c(),A(me,{key:t.itemIndex,ref_for:!0,ref_key:"slidesRef",ref:i,onVisibilityChange:u=>J({visible:u,index:t.itemIndex,isCopy:t.isCopy})},{default:ue(()=>[de(e.$slots,"itemSlot",{item:n.items[t.itemIndex],index:t.itemIndex,active:t.itemIndex===N.value})]),_:2},1032,["onVisibilityChange"]))),128)),!_.value&&n.centered&&d.value?(c(!0),V(T,{key:1},R(d.value,t=>(c(),A(H,{key:t,style:D(M($)),onVisibilityChange:u=>F({visible:u,index:t,position:"right"})},null,8,["style","onVisibilityChange"]))),128)):z("",!0)],4)])],2))}});k.__docgenInfo={exportName:"default",displayName:"RwCarousel2",description:"",tags:{},props:[{name:"items",required:!0,type:{name:"Array",elements:[{name:"unknown"}]}},{name:"vertical",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"infinite",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showScroll",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"autoplay",required:!1,type:{name:"union",elements:[{name:"boolean"},{name:"RwCarouselAutoplayOptions"}]},defaultValue:{func:!1,value:"false"}},{name:"maxVisible",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"undefined"}},{name:"notVisibleOffset",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"undefined"}},{name:"showDots",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"showButtons",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"scrollByDrag",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"centered",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],slots:[{name:"itemSlot",scoped:!0,bindings:[{name:"item",title:"binding"},{name:"index",title:"binding"},{name:"active",title:"binding"}]}]};function O(){return O=Object.assign?Object.assign.bind():function(n){for(var l=1;l<arguments.length;l++){var i=arguments[l];for(var v in i)Object.prototype.hasOwnProperty.call(i,v)&&(n[v]=i[v])}return n},O.apply(this,arguments)}f(O,"_extends");const I=ye({Component:k,slots:["itemSlot"]}),K=await ve("RwCarousel","DefaultCode"),he={Template:I,DEFAULT_CODE:K},ge="wrapper";function P({components:n,...l}){return s(ge,O({},he,l,{components:n,mdxType:"MDXLayout"}),s(le,{title:"RwCarousel2",component:k,argTypes:{default:{control:"text",description:"Slot to render items in the carousel",table:{type:{summary:y.String},defaultValue:{summary:void 0}}},prevButtonSlot:{control:!1,description:"Slot to render previous button",table:{type:{summary:y.Slot},defaultValue:{summary:void 0}}},nextButtonSlot:{control:!1,description:"Slot to render previous button",table:{type:{summary:y.Slot},defaultValue:{summary:void 0}}}},mdxType:"Meta"}),s("h1",null,"RwCarousel"),s("p",null,"With ",s("inlineCode",{parentName:"p"},"MDX"),", we can define a story for ",s("inlineCode",{parentName:"p"},"RwCarousel"),` right in the middle of our
Markdown documentation.`),s(ee,{withSource:"none",mdxType:"Canvas"},s(te,{name:"Default",args:{itemSlot:'<div class="colored_card"> <p>test </p> </div>',items:new Array(20).fill(1)},mdxType:"Story"},I.bind({}))),s(ae,{language:"html",dark:!0,format:!1,code:K,mdxType:"Source"}),s(ne,{story:"Default",mdxType:"ArgsTable"}))}f(P,"MDXContent");P.isMDXComponent=!0;const q=I.bind({});q.storyName="Default";q.args={itemSlot:'<div class="colored_card"> <p>test </p> </div>',items:new Array(20).fill(1)};q.parameters={storySource:{source:`renderComponent({
  Component: RwCarousel2,
  slots: ['itemSlot']
})`}};const g={title:"RwCarousel2",component:k,argTypes:{default:{control:"text",description:"Slot to render items in the carousel",table:{type:{summary:y.String},defaultValue:{summary:void 0}}},prevButtonSlot:{control:!1,description:"Slot to render previous button",table:{type:{summary:y.Slot},defaultValue:{summary:void 0}}},nextButtonSlot:{control:!1,description:"Slot to render previous button",table:{type:{summary:y.Slot},defaultValue:{summary:void 0}}}},includeStories:["defaultStory"]},Se={Default:"defaultStory"};g.parameters=g.parameters||{};g.parameters.docs={...g.parameters.docs||{},page:()=>s(Z,{mdxStoryNameToKey:Se,mdxComponentAnnotations:g},s(P,null))};const Oe=["Template","DEFAULT_CODE","defaultStory"];export{K as DEFAULT_CODE,I as Template,Oe as __namedExportsOrder,g as default,q as defaultStory};
//# sourceMappingURL=RwCarousel2.stories.457353ab.js.map
