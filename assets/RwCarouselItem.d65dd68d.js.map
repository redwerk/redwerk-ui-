{"version":3,"file":"RwCarouselItem.d65dd68d.js","sources":["../../src/components/RwCarousel/RwCarouselItem.vue"],"sourcesContent":["<script lang=\"ts\" setup>\nimport {\n  onBeforeUnmount, onMounted, ref, getCurrentInstance, computed,\n} from 'vue';\nimport { useIntersectionObserver } from '@vueuse/core';\n\nconst emit = defineEmits<{\n  (e: 'visibilityChange', value: boolean): void;\n}>();\n\nconst slideRef = ref<HTMLDivElement>();\n\nconst slideKey = computed(() => `slide-${String(getCurrentInstance()?.vnode.key)}`);\n\nconst intersection = ref();\n\nconst isVisible = ref(false);\n\nfunction startIntersection() {\n  if (!slideRef.value) {\n    return;\n  }\n\n  intersection.value = useIntersectionObserver(\n    slideRef,\n    ([{ isIntersecting }]) => {\n      isVisible.value = isIntersecting;\n      emit('visibilityChange', isIntersecting);\n    },\n  );\n}\n\nfunction stopIntersection() {\n  if (intersection.value) {\n    intersection.value.stop();\n    intersection.value = undefined;\n  }\n}\n\nonMounted(() => {\n  startIntersection();\n});\n\nonBeforeUnmount(() => {\n  stopIntersection();\n});\n</script>\n\n<template>\n  <div\n    class=\"rw-carousel-item\"\n    ref=\"slideRef\"\n    :data-slide=\"slideKey\"\n    :data-visible=\"isVisible\"\n  >\n    <slot :visible=\"isVisible\" />\n  </div>\n</template>\n"],"names":["slideRef","ref","slideKey","computed","_a","getCurrentInstance","intersection","isVisible","startIntersection","useIntersectionObserver","isIntersecting","emit","__name","stopIntersection","onMounted","onBeforeUnmount"],"mappings":"wVAUA,MAAMA,EAAWC,IAEXC,EAAWC,EAAS,IAAM,OAAA,eAAS,QAAOC,EAAAC,EAAmB,IAAnB,YAAAD,EAAsB,MAAM,GAAG,IAAG,EAE5EE,EAAeL,IAEfM,EAAYN,EAAI,EAAK,EAE3B,SAASO,GAAoB,CACvB,CAACR,EAAS,QAIdM,EAAa,MAAQG,EACnBT,EACA,CAAC,CAAC,CAAE,eAAAU,CAAA,CAAgB,IAAM,CACxBH,EAAU,MAAQG,EAClBC,EAAK,mBAAoBD,CAAc,CACzC,CAAA,EAEJ,CAZSE,EAAAJ,EAAA,qBAcT,SAASK,GAAmB,CACtBP,EAAa,QACfA,EAAa,MAAM,OACnBA,EAAa,MAAQ,OAEzB,CALS,OAAAM,EAAAC,EAAA,oBAOTC,EAAU,IAAM,CACIN,GAAA,CACnB,EAEDO,EAAgB,IAAM,CACHF,GAAA,CAClB"}