{"version":3,"file":"RwRating.ca501b59.js","sources":["../../src/components/RwRating/RwRating.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { useVModel } from '@vueuse/core';\nimport { computed, ref } from 'vue';\nimport RwIcon from '../RwIcon/RwIcon.vue';\n\ninterface Props {\n  modelValue: number;\n  count?: number;\n}\nconst props = withDefaults(defineProps<Props>(), {\n  count: 5,\n});\n\ninterface Emits {\n  (e: 'update:modelValue', value: boolean): void;\n}\nconst emit = defineEmits<Emits>();\n\nconst value = useVModel(props, 'modelValue', emit);\n\nconst focusedStar = ref(value.value);\n\nfunction getCurrentIconName(countNumber: number) {\n  if (countNumber <= Math.floor(focusedStar.value)) {\n    return 'fullSlot';\n  }\n\n  if (countNumber === Math.ceil(focusedStar.value)) {\n    return 'partSlot';\n  }\n\n  return 'emptySlot';\n}\n\nconst icons = computed(() => {\n  const iconList: string[] = [];\n  for (let i = 1; i < props.count + 1; i += 1) {\n    iconList.push(getCurrentIconName(i));\n  }\n\n  return iconList;\n});\n\nfunction setReviewValue(item: number) {\n  focusedStar.value = item;\n}\n\nfunction setInitialValue() {\n  focusedStar.value = value.value;\n}\n\nfunction setValue(item: number) {\n  focusedStar.value = item;\n  value.value = item;\n}\n</script>\n\n<template>\n  <div class=\"rw-rating\">\n    <label\n      class=\"rw-rating__item\"\n      v-for=\"(icon, index) in icons\"\n      @focusin=\"setReviewValue(index + 1)\"\n      @focusout=\"setInitialValue()\"\n      @mouseover=\"setReviewValue(index + 1)\"\n      @mouseout=\"setInitialValue()\"\n      @keyup.enter=\"setValue(index + 1)\"\n      :key=\"index\"\n      tabindex=\"0\"\n    >\n      <input\n        class=\"rw-rating__item-input\"\n        v-model=\"value\"\n        :value=\"index + 1\"\n        name=\"rating\"\n        type=\"radio\"\n      >\n      <slot\n        name=\"emptySlot\"\n        v-if=\"icon === 'emptySlot'\"\n      >\n        <RwIcon name=\"mdi:star-outline\" />\n      </slot>\n\n      <slot\n        name=\"fullSlot\"\n        v-else-if=\"icon === 'fullSlot'\"\n      >\n        <RwIcon name=\"mdi:star\" />\n      </slot>\n\n      <slot\n        name=\"partSlot\"\n        v-else\n      >\n        <RwIcon name=\"mdi:star-half-full\" />\n      </slot>\n    </label>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.rw-rating {\n  &__item {\n    cursor: pointer;\n\n    &-input {\n      display: none;\n    }\n  }\n}\n</style>\n"],"names":["value","useVModel","props","emit","focusedStar","ref","getCurrentIconName","countNumber","__name","icons","computed","iconList","i","setReviewValue","item","setInitialValue","setValue"],"mappings":"+iBAkBMA,EAAQC,EAAUC,EAAO,aAAcC,CAAI,EAE3CC,EAAcC,EAAIL,EAAM,KAAK,EAEnC,SAASM,EAAmBC,EAAqB,CAC/C,OAAIA,GAAe,KAAK,MAAMH,EAAY,KAAK,EACtC,WAGLG,IAAgB,KAAK,KAAKH,EAAY,KAAK,EACtC,WAGF,WACT,CAVSI,EAAAF,EAAA,sBAYH,MAAAG,EAAQC,EAAS,IAAM,CAC3B,MAAMC,EAAqB,CAAA,EAC3B,QAASC,EAAI,EAAGA,EAAIV,EAAM,MAAQ,EAAGU,GAAK,EAC/BD,EAAA,KAAKL,EAAmBM,CAAC,CAAC,EAG9B,OAAAD,CAAA,CACR,EAED,SAASE,EAAeC,EAAc,CACpCV,EAAY,MAAQU,CACtB,CAFSN,EAAAK,EAAA,kBAIT,SAASE,GAAkB,CACzBX,EAAY,MAAQJ,EAAM,KAC5B,CAFSQ,EAAAO,EAAA,mBAIT,SAASC,EAASF,EAAc,CAC9BV,EAAY,MAAQU,EACpBd,EAAM,MAAQc,CAChB,CAHS,OAAAN,EAAAQ,EAAA"}