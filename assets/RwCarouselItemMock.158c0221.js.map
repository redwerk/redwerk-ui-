{"version":3,"file":"RwCarouselItemMock.158c0221.js","sources":["../../src/components/RwCarousel/RwCarouselItemMock.vue"],"sourcesContent":["<script lang=\"ts\" setup>\nimport {\n  onBeforeUnmount, onMounted, ref, getCurrentInstance, computed,\n} from 'vue';\nimport { useIntersectionObserver } from '@vueuse/core';\n\nconst emit = defineEmits<{\n  (e: 'visibilityChange', value: boolean): void;\n}>();\n\nconst slideRef = ref<HTMLDivElement>();\n\nconst componentKey = computed(() => getCurrentInstance()?.vnode.key as string || '');\nconst slideKey = computed(() => `slide-mock-${componentKey.value}`);\n\nconst intersection = ref();\n\nconst isVisible = ref(false);\n\nfunction startIntersection() {\n  if (!slideRef.value) {\n    return;\n  }\n\n  intersection.value = useIntersectionObserver(\n    slideRef,\n    ([{ isIntersecting }]) => {\n      isVisible.value = isIntersecting;\n      emit('visibilityChange', isIntersecting);\n    },\n    {\n      rootMargin: '0px',\n      // threshold: 1.0,\n    },\n  );\n}\n\nfunction stopIntersection() {\n  if (intersection.value) {\n    intersection.value.stop();\n    intersection.value = undefined;\n  }\n}\n\nonMounted(() => {\n  startIntersection();\n});\n\nonBeforeUnmount(() => {\n  stopIntersection();\n});\n</script>\n\n<template>\n  <div\n    class=\"rw-carousel-item-mock\"\n    ref=\"slideRef\"\n    :data-slide=\"slideKey\"\n  >\n    <slot :visible=\"isVisible\" />\n  </div>\n</template>\n"],"names":["slideRef","ref","componentKey","computed","_a","getCurrentInstance","slideKey","intersection","isVisible","startIntersection","useIntersectionObserver","isIntersecting","emit","__name","stopIntersection","onMounted","onBeforeUnmount"],"mappings":"6UAUA,MAAMA,EAAWC,IAEXC,EAAeC,EAAS,IAAM,OAAA,QAAAC,EAAAC,EAAsB,IAAtB,YAAAD,EAAsB,MAAM,MAAiB,GAAE,EAC7EE,EAAWH,EAAS,IAAM,cAAcD,EAAa,OAAO,EAE5DK,EAAeN,IAEfO,EAAYP,EAAI,EAAK,EAE3B,SAASQ,GAAoB,CACvB,CAACT,EAAS,QAIdO,EAAa,MAAQG,EACnBV,EACA,CAAC,CAAC,CAAE,eAAAW,CAAA,CAAgB,IAAM,CACxBH,EAAU,MAAQG,EAClBC,EAAK,mBAAoBD,CAAc,CACzC,EACA,CACE,WAAY,KAEd,CAAA,EAEJ,CAhBSE,EAAAJ,EAAA,qBAkBT,SAASK,GAAmB,CACtBP,EAAa,QACfA,EAAa,MAAM,OACnBA,EAAa,MAAQ,OAEzB,CALS,OAAAM,EAAAC,EAAA,oBAOTC,EAAU,IAAM,CACIN,GAAA,CACnB,EAEDO,EAAgB,IAAM,CACHF,GAAA,CAClB"}