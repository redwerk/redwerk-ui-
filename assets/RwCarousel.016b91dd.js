var D=Object.defineProperty;var u=(e,a)=>D(e,"name",{value:a,configurable:!0});import{f,n as L,g as O,d as C,a as x,i as _,j as A,k as F,o as w,l as B,m as h,p as P,u as r,r as V,q as k,F as K,t as W,v as $,x as q}from"./vue.esm-bundler.442e6891.js";import{R as I}from"./index.50a3fc66.js";import{u as H,a as N}from"./index.10077dc5.js";import"./iframe.45729d7c.js";const U={pauseOnHover:!0,delay:5e3};function X(e){const a=f();f(0);function o(){const c={...U};return typeof e.props.autoplay=="object"&&(c.delay=e.props.autoplay.delay??c.delay,c.pauseOnHover=e.props.autoplay.pauseOnHover??c.pauseOnHover),c}u(o,"getOptions");function n(){if(!e.props.autoplay)return;const c=o();a.value=setInterval(()=>{},c.delay)}u(n,"startAutoplay");function d(){a.value&&clearInterval(a.value),a.value=void 0}return u(d,"stopAutoplay"),{startAutoplay:n,stopAutoplay:d}}u(X,"useAutoplay");function Y({scrollerElementRef:e,props:a,itemElementWidth:o}){const n=f(""),d=f([]),c=f(!1),p=f(0),i=f(!1);function v(t){!e.value||(a.vertical?e.value.style.overflowY=t:e.value.style.overflowX=t)}u(v,"setOverflow");function b(t){if(!e.value)return;i.value=!0;const l=e.value.querySelector(`.rw-carousel-item[data-slide='${t}']`);l==null||l.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),setTimeout(()=>{i.value=!1},1e3)}u(b,"scrollToSlideByKey");const m=H(()=>{if(!e.value)return;const t=[...e.value.querySelectorAll('.rw-carousel-item[data-visible="true"]')];d.value=t.map(S=>S.dataset.slide);const l=Math.floor(t.length/2),s=t.length&&t[l].dataset.slide;n.value=s||""},100);function g(t,l){!e.value||(v("hidden"),e.value.style.scrollBehavior="auto",e.value.scroll({top:t,left:l}),setTimeout(()=>{e.value&&(v("auto"),e.value.style.scrollBehavior="smooth")},10))}u(g,"scrollTo");async function y(t){if(!e.value)return;const l=t.offsetWidth+t.scrollPosition,s=t.contentWidth-o.value;if(c.value=l>=s,a.infinite&&c.value&&(e.value.style.scrollBehavior="auto"),await L(),!i.value&&a.infinite&&!t.scrollPosition){const S=a.vertical?t.contentWidth-t.offsetWidth-50:0,T=a.vertical?0:t.contentWidth-t.offsetWidth-o.value;g(S,T)}else!i.value&&a.infinite&&l>=t.contentWidth&&l>p.value&&g(10,10);p.value=t.scrollPosition}u(y,"scroll");async function M(){if(!e.value)return;const t=a.vertical?{offsetWidth:e.value.offsetHeight,scrollPosition:e.value.scrollTop,contentWidth:e.value.scrollHeight}:{offsetWidth:e.value.offsetWidth,scrollPosition:e.value.scrollLeft,contentWidth:e.value.scrollWidth};await y(t),m()}return u(M,"onScrollEvent"),{onScrollEvent:M,scrollToSlideByKey:b,firstVisibleSlideKey:n,visibleSlidesKeys:d,detectFirstVisibleSlide:m}}u(Y,"useScroll");function j({scrollerElementRef:e,props:a}){const o=f(),n=f();function d(i){o.value=i}u(d,"registerRef");function c(){n.value&&n.value.stop(),a.infinite&&(n.value=N(o,([{isIntersecting:i}])=>{if(!i||!e.value)return;const v=e.value.querySelectorAll(".rw-carousel-item");o.value&&(o.value.innerHTML=v[0].innerHTML,o.value.classList.remove(...o.value.classList),o.value.classList.add(...v[0].classList))}))}u(c,"startIntersection");function p(){n.value&&n.value.stop(),n.value=void 0}return u(p,"stopIntersection"),{startIntersection:c,registerRef:d,stopIntersection:p}}u(j,"useLastSlideIntersection");function z({scrollerElementRef:e,props:a}){const o=O({top:0,left:0,x:0,y:0}),n=f(!1);function d(i){if(!a.scrollByDrag||!n.value||!e.value)return;const v=i.clientX-o.x,b=i.clientY-o.y;e.value.scrollTop=o.top-b,e.value.scrollLeft=o.left-v}u(d,"onMouseMove");function c(){!a.scrollByDrag||!e.value||(e.value.style.cursor="grab",e.value.style.removeProperty("user-select"),e.value.style.scrollSnapType=a.vertical?"y mandatory":"x mandatory",e.value.style.scrollBehavior="smooth",n.value=!1)}u(c,"onMouseUp");function p(i){!a.scrollByDrag||!e.value||(o.left=e.value.scrollLeft,o.top=e.value.scrollTop,o.x=i.clientX,o.y=i.clientY,e.value.style.cursor="grabbing",e.value.style.userSelect="none",e.value.style.scrollSnapType="none",e.value.style.scrollBehavior="auto",n.value=!0)}return u(p,"onMouseDown"),{onMouseMove:d,onMouseUp:c,onMouseDown:p}}u(z,"useMouseEvents");const G={class:"rw-carousel__container"},J={class:"btn prev"},Q={class:"btn next"},Z={class:"rw-carousel__bottom"},R={key:0,class:"dots"},E=["title","onClick"],ee=C({__name:"RwCarousel",props:{vertical:{type:Boolean,default:!1},infinite:{type:Boolean,default:!1},showScroll:{type:Boolean,default:!1},autoplay:{type:[Boolean,null],default:!1},maxVisible:{default:void 0},notVisibleOffset:{default:void 0},showDots:{type:Boolean,default:!0},showButtons:{type:Boolean,default:!0},scrollByDrag:{type:Boolean,default:!0}},setup(e,{expose:a}){const o=e,n=f(),d=x(()=>{var l,s;return typeof window>"u"||!n.value?0:(o.vertical?(l=n.value.querySelector(".rw-carousel-item"))==null?void 0:l.clientHeight:(s=n.value.querySelector(".rw-carousel-item"))==null?void 0:s.clientWidth)||0}),c=_(),p=x(()=>{const t=(c==null?void 0:c.default())||[];return t.length?(t[0].children||[]).map(s=>`slide-${s.key}`):[]}),i=Y({props:o,itemElementWidth:d,scrollerElementRef:n}),v=j({props:o,scrollerElementRef:n});function b(){var l,s;const t=i.visibleSlidesKeys.value.length===1?d.value+d.value/3:d.value;o.vertical?(l=n.value)==null||l.scrollBy(0,t):(s=n.value)==null||s.scrollBy(t,0)}u(b,"next");function m(){var l,s;const t=i.visibleSlidesKeys.value.length===1?d.value+d.value/3:d.value;o.vertical?(l=n.value)==null||l.scrollBy(0,-t):(s=n.value)==null||s.scrollBy(-t,0)}u(m,"previous");const g=X({props:o,nextSlideFn:b,prevSlideFn:m}),y=z({props:o,scrollerElementRef:n}),M=x(()=>{const t=o.notVisibleOffset||"0px",l=o.maxVisible?`calc((100% / ${o.maxVisible}) - ${t})`:"auto",s=o.scrollByDrag?"grab":"auto";return o.vertical?{width:"100%",gridAutoRows:l,cursor:s}:{gridAutoColumns:l,cursor:s}});return A(()=>{var t;g.startAutoplay(),(t=n.value)==null||t.addEventListener("scroll",i.onScrollEvent),i.detectFirstVisibleSlide(),v.startIntersection()}),F(()=>{var t;g.stopAutoplay(),(t=n.value)==null||t.removeEventListener("scroll",i.onScrollEvent),v.stopIntersection()}),a({next:b,previous:m}),(t,l)=>(w(),B("div",{class:q(["rw-carousel",{vertical:e.vertical,"hide-scrollbar":!e.showScroll}])},[h("div",G,[h("div",{class:"scroller",style:P(r(M)),ref_key:"scrollerElementRef",ref:n,onMousemove:l[0]||(l[0]=(...s)=>r(y).onMouseMove&&r(y).onMouseMove(...s)),onMouseup:l[1]||(l[1]=(...s)=>r(y).onMouseUp&&r(y).onMouseUp(...s)),onMousedown:l[2]||(l[2]=(...s)=>r(y).onMouseDown&&r(y).onMouseDown(...s)),onMouseout:l[3]||(l[3]=(...s)=>r(y).onMouseUp&&r(y).onMouseUp(...s))},[V(t.$slots,"default"),e.infinite&&r(i).visibleSlidesKeys.value.length>1?(w(),B("div",{key:0,class:"rw-carousel-item",ref:r(v).registerRef},null,512)):k("",!0)],36),e.showButtons?(w(),B(K,{key:0},[h("div",J,[V(t.$slots,"prevButtonSlot",{click:m},()=>[h("button",{type:"button",title:"Previous slide",onClick:m},[W(r(I),{name:"mdi:chevron-left"})])])]),h("div",Q,[V(t.$slots,"nextButtonSlot",{click:b},()=>[h("button",{type:"button",title:"Next slide",onClick:b},[W(r(I),{name:"mdi:chevron-right"})])])])],64)):k("",!0)]),h("div",Z,[V(t.$slots,"bottomSlot",{previous:m,next:b,scrollTo:r(i).scrollToSlideByKey,slidesKeys:r(p),activeSlideKey:r(i).firstVisibleSlideKey.value},()=>[e.showDots?(w(),B("div",R,[(w(!0),B(K,null,$(r(p),(s,S)=>V(t.$slots,"dotSlot",{key:s,slideNumber:S+1,slideKey:s,click:()=>r(i).scrollToSlideByKey(s),active:s===r(i).firstVisibleSlideKey.value},()=>[h("button",{class:q(["dots__item",{active:s===r(i).firstVisibleSlideKey.value}]),type:"button",title:`Slide #${S+1}`,onClick:T=>r(i).scrollToSlideByKey(s)},null,10,E)])),128))])):k("",!0)])])],2))}});ee.__docgenInfo={exportName:"default",displayName:"RwCarousel",description:"",tags:{},expose:[{name:"next"},{name:"previous"}],props:[{name:"vertical",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"infinite",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showScroll",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"autoplay",required:!1,type:{name:"union",elements:[{name:"boolean"},{name:"RwCarouselAutoplayOptions"}]},defaultValue:{func:!1,value:"false"}},{name:"maxVisible",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"undefined"}},{name:"notVisibleOffset",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"undefined"}},{name:"showDots",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"showButtons",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"scrollByDrag",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}}],slots:[{name:"default"},{name:"prevButtonSlot",scoped:!0,bindings:[{name:"click",title:"binding"}]},{name:"nextButtonSlot",scoped:!0,bindings:[{name:"click",title:"binding"}]},{name:"bottomSlot",scoped:!0,bindings:[{name:"previous",title:"binding"},{name:"next",title:"binding"},{name:"scroll-to",title:"binding"},{name:"slides-keys",title:"binding"},{name:"active-slide-key",title:"binding"}]},{name:"dotSlot",scoped:!0,bindings:[{name:"slide-number",title:"binding"},{name:"slide-key",title:"binding"},{name:"click",title:"binding"},{name:"active",title:"binding"}]}]};export{ee as default};
//# sourceMappingURL=RwCarousel.016b91dd.js.map
