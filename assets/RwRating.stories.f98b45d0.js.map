{"version":3,"file":"RwRating.stories.f98b45d0.js","sources":["../../src/components/RwRating/RwRating.vue","../../stories/RwRating.stories.mdx"],"sourcesContent":["<script setup lang=\"ts\">\nimport { useVModel } from '@vueuse/core';\nimport { computed, ref } from 'vue';\nimport RwIcon from '../RwIcon/RwIcon.vue';\n\ninterface RwRatingEvents {\n  ['onUpdate:modelValue']: () => void;\n}\ninterface RwRatingProps extends RwRatingEvents {\n  modelValue: number;\n  count?: number;\n}\n\nconst props = withDefaults(defineProps<RwRatingProps>(), {\n  count: 5,\n});\n\ninterface Emits {\n  (e: 'update:modelValue', value: boolean): void;\n}\nconst emit = defineEmits<Emits>();\n\nconst value = useVModel(props, 'modelValue', emit);\n\nconst focusedStar = ref(value.value);\n\nfunction getCurrentIconName(countNumber: number) {\n  if (countNumber <= Math.floor(focusedStar.value)) {\n    return 'fullSlot';\n  }\n\n  if (countNumber === Math.ceil(focusedStar.value)) {\n    return 'partSlot';\n  }\n\n  return 'emptySlot';\n}\n\nconst icons = computed(() => {\n  const iconList: string[] = [];\n  for (let i = 1; i < props.count + 1; i += 1) {\n    iconList.push(getCurrentIconName(i));\n  }\n\n  return iconList;\n});\n\nfunction setReviewValue(item: number) {\n  focusedStar.value = item;\n}\n\nfunction setInitialValue() {\n  focusedStar.value = value.value;\n}\n\nfunction setValue(item: number) {\n  focusedStar.value = item;\n  value.value = item;\n}\n</script>\n\n<template>\n  <div class=\"rw-rating\">\n    <label\n      class=\"rw-rating__item\"\n      v-for=\"(icon, index) in icons\"\n      @focusin=\"setReviewValue(index + 1)\"\n      @focusout=\"setInitialValue()\"\n      @mouseover=\"setReviewValue(index + 1)\"\n      @mouseout=\"setInitialValue()\"\n      @keyup.enter=\"setValue(index + 1)\"\n      :key=\"index\"\n      tabindex=\"0\"\n    >\n      <input\n        class=\"rw-rating__item-input\"\n        v-model=\"value\"\n        :value=\"index + 1\"\n        name=\"rating\"\n        type=\"radio\"\n      >\n      <slot\n        name=\"emptySlot\"\n        v-if=\"icon === 'emptySlot'\"\n      >\n        <RwIcon name=\"mdi:star-outline\" />\n      </slot>\n\n      <slot\n        name=\"fullSlot\"\n        v-else-if=\"icon === 'fullSlot'\"\n      >\n        <RwIcon name=\"mdi:star\" />\n      </slot>\n\n      <slot\n        name=\"partSlot\"\n        v-else\n      >\n        <RwIcon name=\"mdi:star-half-full\" />\n      </slot>\n    </label>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.rw-rating {\n  &__item {\n    cursor: pointer;\n\n    &-input {\n      display: none;\n    }\n  }\n}\n</style>\n","import { Canvas, Meta, Story, ArgsTable, Source } from '@storybook/addon-docs';\nimport { renderComponent } from './utils/renderComponent';\nimport RwRating from \"../src/components/RwRating\";\nimport {Types} from \"./utils/componentTypes\";\nimport {getSourceCode} from \"./utils/getSourceCode\";\n\n<Meta\n  title=\"RwRating\"\n  component={RwRating}\n  argTypes={{\n    modelValue: {\n      table: {\n        type: { summary: Types.Number },\n      },\n    },\n    count: {\n      table: {\n        type: { summary: Types.Number },\n        defaultValue: {summary: 5},\n      },\n    },\n    fullSlot: {\n      control: false,\n      description: 'full slot',\n      table: {\n        type: {summary: Types.Slot},\n        defaultValue: {summary: undefined},\n      },\n    },\n    partSlot: {\n      control: false,\n      description: 'part slot',\n      table: {\n        type: {summary: Types.Slot},\n        defaultValue: {summary: undefined},\n      },\n    },\n    emptySlot: {\n      control: false,\n      description: 'empty slot',\n      table: {\n        type: {summary: Types.Slot},\n        defaultValue: {summary: undefined},\n      },\n    },\n  }}\n/>\n\nexport const Template = renderComponent({ Component: RwRating, slots: ['default'], vModels: ['modelValue'] });\n\n# RwRating\n\nWith `MDX`, we can define a story for `RwRating` right in the middle of our\nMarkdown documentation.\n\n<Canvas withSource='none'>\n  <Story\n    name=\"Default\"\n    args={{\n      modelValue: 3.5,\n    }}>\n    {Template.bind({})}\n  </Story>\n</Canvas>\n\nexport const DEFAULT_CODE = await getSourceCode('RwRating', 'DefaultCode')\n\n\n<Source\n  language='html'\n  dark\n  format={false}\n  code={DEFAULT_CODE}\n/>\n\n<ArgsTable story=\"Default\" />\n"],"names":["value","useVModel","props","emit","focusedStar","ref","getCurrentIconName","countNumber","__name","icons","computed","iconList","i","setReviewValue","item","setInitialValue","setValue","Template","renderComponent","Component","RwRating","slots","vModels","DEFAULT_CODE","getSourceCode","layoutProps","MDXLayout","MDXContent","components","mdx","Meta","modelValue","table","type","summary","Types","Number","count","defaultValue","fullSlot","control","description","Slot","undefined","partSlot","emptySlot","Canvas","Story","bind","Source","ArgsTable","isMDXComponent","defaultStory","storyName","args","parameters","storySource","source","componentMeta","title","component","argTypes","includeStories","mdxStoryNameToKey","docs","page","AddContext","__namedExportsOrder"],"mappings":"y3BAsBMA,EAAQC,EAAUC,EAAO,aAAcC,CAAI,EAE3CC,EAAcC,EAAIL,EAAM,KAAK,EAEnC,SAASM,EAAmBC,EAAqB,CAC/C,OAAIA,GAAe,KAAK,MAAMH,EAAY,KAAK,EACtC,WAGLG,IAAgB,KAAK,KAAKH,EAAY,KAAK,EACtC,WAGF,WACT,CAVSI,EAAAF,EAAA,sBAYH,MAAAG,EAAQC,EAAS,IAAM,CAC3B,MAAMC,EAAqB,CAAA,EAC3B,QAASC,EAAI,EAAGA,EAAIV,EAAM,MAAQ,EAAGU,GAAK,EAC/BD,EAAA,KAAKL,EAAmBM,CAAC,CAAC,EAG9B,OAAAD,CAAA,CACR,EAED,SAASE,EAAeC,EAAc,CACpCV,EAAY,MAAQU,CACtB,CAFSN,EAAAK,EAAA,kBAIT,SAASE,GAAkB,CACzBX,EAAY,MAAQJ,EAAM,KAC5B,CAFSQ,EAAAO,EAAA,mBAIT,SAASC,EAASF,EAAc,CAC9BV,EAAY,MAAQU,EACpBd,EAAM,MAAQc,CAChB,CAHS,OAAAN,EAAAQ,EAAA,6yCC1CIC,MAAAA,EAAWC,EAAgB,CACtCC,UAAWC,EACXC,MAAO,CAAC,SAAS,EACjBC,QAAS,CAAC,YAAY,CACxB,CAAC,EACYC,EAAe,MAAMC,EAAc,WAAY,aAAa,EAEnEC,GAAc,CAClBR,SAAAA,EACFM,aAAAA,CACA,EACMG,GAAY,UAClB,SAASC,EAAW,CAClBC,WAAAA,KACG1B,CACL,EAAG,CACD,OAAO2B,EAACH,GAAcD,EAAAA,CAAAA,EAAAA,GAAiBvB,EAAK,CAAE,WAAY0B,EAAY,QAAQ,WAAW,CAAA,EAEvFC,EAACC,EAAI,CAAC,MAAM,WAAW,UAAWV,EAAU,SAAU,CACpDW,WAAY,CACVC,MAAO,CACLC,KAAM,CACJC,QAASC,EAAMC,MACjB,CACF,CACD,EACDC,MAAO,CACLL,MAAO,CACLC,KAAM,CACJC,QAASC,EAAMC,MAChB,EACDE,aAAc,CACZJ,QAAS,CACX,CACF,CACD,EACDK,SAAU,CACRC,QAAS,GACTC,YAAa,YACbT,MAAO,CACLC,KAAM,CACJC,QAASC,EAAMO,IAChB,EACDJ,aAAc,CACZJ,QAASS,MACX,CACF,CACD,EACDC,SAAU,CACRJ,QAAS,GACTC,YAAa,YACbT,MAAO,CACLC,KAAM,CACJC,QAASC,EAAMO,IAChB,EACDJ,aAAc,CACZJ,QAASS,MACX,CACF,CACD,EACDE,UAAW,CACTL,QAAS,GACTC,YAAa,aACbT,MAAO,CACLC,KAAM,CACJC,QAASC,EAAMO,IAChB,EACDJ,aAAc,CACZJ,QAASS,MACX,CACF,CACF,CACA,EAAC,QAAQ,MAAM,CAAA,EAEjBd,EAAM,KAAA,KAAA,UAAS,EACfA,EAAA,IAAA,KAAK,QAAOA,EAAA,aAAA,CAAY,WAAW,GAAG,EAAG,KAAI,EAAgB,+BAA8BA,EAAA,aAAA,CAAY,WAAW,KAAM,UAAS,EAAgB;AAAA,wBAC7H,EACpBA,EAACiB,EAAM,CAAC,WAAW,OAAO,QAAQ,QAAQ,EAC5CjB,EAACkB,EAAK,CAAC,KAAK,UAAU,KAAM,CACtBhB,WAAY,GACZ,EAAC,QAAQ,SACZd,EAAS+B,KAAK,CAAA,CAAE,CAAC,CACZ,EAGNnB,EAACoB,EAAM,CAAC,SAAS,OAAO,KAAI,GAAC,OAAQ,GAAO,KAAM1B,EAAc,QAAQ,SAAW,EACnFM,EAACqB,EAAS,CAAC,MAAM,UAAU,QAAQ,WAAW,CAAA,CAAG,CAErD,CA5ESvB,EAAAA,EAAAA,cA8ETA,EAAWwB,eAAiB,GAErB,MAAMC,EAAenC,EAAS+B,KAAK,EAAE,EAC5CI,EAAaC,UAAY,UACzBD,EAAaE,KAAO,CAClBvB,WAAY,GACd,EACAqB,EAAaG,WAAa,CAAEC,YAAa,CAAEC,OAAQ;AAAA;AAAA;AAAA;AAAA,GAAsG,CAAE,EAE3J,MAAMC,EAAgB,CAAEC,MAAO,WAAYC,UAAWxC,EAAUyC,SAAU,CACxE9B,WAAY,CACVC,MAAO,CACLC,KAAM,CACJC,QAASC,EAAMC,MACjB,CACF,CACD,EACDC,MAAO,CACLL,MAAO,CACLC,KAAM,CACJC,QAASC,EAAMC,MAChB,EACDE,aAAc,CACZJ,QAAS,CACX,CACF,CACD,EACDK,SAAU,CACRC,QAAS,GACTC,YAAa,YACbT,MAAO,CACLC,KAAM,CACJC,QAASC,EAAMO,IAChB,EACDJ,aAAc,CACZJ,QAASS,MACX,CACF,CACD,EACDC,SAAU,CACRJ,QAAS,GACTC,YAAa,YACbT,MAAO,CACLC,KAAM,CACJC,QAASC,EAAMO,IAChB,EACDJ,aAAc,CACZJ,QAASS,MACX,CACF,CACD,EACDE,UAAW,CACTL,QAAS,GACTC,YAAa,aACbT,MAAO,CACLC,KAAM,CACJC,QAASC,EAAMO,IAChB,EACDJ,aAAc,CACZJ,QAASS,MACX,CACF,CACF,CACD,EAAEmB,eAAgB,CAAC,cAAc,CAAI,EAEhCC,GAAoB,CAAC,QAAU,cAAc,EAEnDL,EAAcH,WAAaG,EAAcH,YAAc,GACvDG,EAAcH,WAAWS,KAAO,CAC9B,GAAIN,EAAcH,WAAWS,MAAQ,GACrCC,KAAM,IAAMpC,EAACqC,EAAU,CAAC,kBAAmBH,GAAmB,wBAAyBL,GAAe7B,EAACF,EAAa,IAAA,CAAA,CACtH,EAE4B,MAAAwC,GAAA,CAAA,WAAA,eAAA,cAAA"}